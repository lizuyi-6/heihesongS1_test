# 如何使用这个设计文档

## 📄 文档说明

这份文档定义了 **"AI 需求质询机制"** 的完整设计，适用于 **"AI 需求分析 + 开发"** 产品。

---

## 🎯 核心价值

**解决的问题**：AI 盲目执行 → 导致屎山代码

**解决方案**：AI 先质询 → 再生成代码

---

## 📖 文档结构

### 1. 设计理念（第1部分）
- **为什么 AI 会堆屎山**
- **核心机制是什么**
- **目标是什么**

→ **用途**：向团队/投资人传达产品理念

### 2. 核心功能设计（第2部分）
- **需求完整性检查**：7个维度
- **交互式质询**：4个阶段
- **质量评分**：0-100分
- **生成阻断**：不达标不生成

→ **用途**：理解产品应该做什么

### 3. 用户交互流程（第3部分）
- **完整对话示例**
- **场景1：需求过于简单**
- **场景2：需求较完整**
- **场景3：需求完整**

→ **用途**：作为用户引导设计的参考

### 4. Prompt 设计规范（第4部分）⭐
- **AI 系统提示词**
- **少样本示例**
- **交互风格指南**

→ **用途**：直接配置给你的 AI 模型

### 5. 代码实现（第4部分）
- **质询引擎伪代码**
- **完整性检查逻辑**
- **评分算法**

→ **用途**：指导开发团队实现

### 6. UI 设计建议（第5部分）
- **进度展示方式**
- **问题展示格式**

→ **用途**：前端/交互设计师参考

---

## 🚀 快速开始

### 如果你是产品经理

1. 阅读 **设计理念**（第1部分）
2. 理解 **核心功能**（第2部分）
3. 查看 **交互示例**（第3部分）

### 如果你是 AI 工程师

1. 直接使用 **Prompt 设计规范**（第4部分）
2. 参考 **少样本示例** 训练模型
3. 使用 **质询引擎伪代码** 实现逻辑

### 如果你是前端/交互设计师

1. 查看 **用户交互流程**（第3部分）
2. 参考 **UI 设计建议**（第5部分）
3. 设计符合产品风格的界面

---

## 💡 关键要点

### ✅ 必须实现

1. **需求完整性检查**：至少覆盖 5 个维度
2. **质量评分**：必须量化（0-100分）
3. **生成阻断**：评分 < 70 必须拒绝
4. **分阶段质询**：核心 → 边界 → 异常 → 确认

### 🎯 建议实现

1. **少样本学习**：用示例训练 AI
2. **进度可视化**：让用户看到完善度
3. **灵活性**：允许跳过非关键问题

### ⚠️ 避免的问题

1. ❌ 一次问太多问题（每次3-5个）
2. ❌ 拷问式质询（要友好，不要强硬）
3. ❌ 没有解释（要说明为什么需要这个信息）

---

## 📋 实施检查清单

### MVP 阶段

- [ ] 定义需求检查的维度（至少5个）
- [ ] 编写 AI 系统提示词
- [ ] 准备 3-5 个少样本示例
- [ ] 实现质量评分算法
- [ ] 实现生成阻断逻辑
- [ ] 设计基础 UI（问题展示 + 进度）

### 优化阶段

- [ ] 收集用户反馈
- [ ] 优化问题质量
- [ ] 调整评分阈值
- [ ] 改进交互体验

---

## 🔗 与其他文档的配合

这个文档应该和以下文档配合使用：

1. **产品 PRD**：定义产品的完整功能
2. **API 文档**：定义前后端交互
3. **测试计划**：定义如何测试质询机制

---

## 📞 常见问题

### Q1: 评分阈值如何确定？

**A**：MVP 阶段建议：
- < 70：必须补充
- 70-89：警告 + 可选
- ≥ 90：直接生成

根据用户反馈调整。

### Q2: 用户不愿意回答问题怎么办？

**A**：
1. 提供跳过选项
2. 解释为什么需要这个信息
3. 展示质询前后的代码质量对比
4. 提供默认建议

### Q3: 如何保证问题质量？

**A**：
1. 从真实需求中总结问题模板
2. A/B 测试不同问题版本
3. 收集用户反馈（有用/无用）
4. 持续优化问题库

---

## 📈 成功指标

### 短期（1个月）
- 用户回答率 > 60%
- 需求完善率 > 70%

### 中期（3个月）
- 代码返工率 < 40%
- 用户满意度 > 3.5/5

### 长期（6个月）
- 代码返工率 < 20%
- 用户满意度 > 4.0/5
- 用户主动推荐

---

## 🎓 学习资源

### 相关概念
- **需求工程**：如何获取完整需求
- **对话系统**：如何设计多轮对话
- **Prompt Engineering**：如何设计 AI 提示词

### 类似产品
- **Cursor**：AI 编程助手（但缺少质询机制）
- **v0.dev**：AI 生成 UI（需求较完整时效果好）

---

**文档版本**: v1.0
**最后更新**: 2025-12-31
